[gd_scene load_steps=17 format=1]

[ext_resource path="res://Scripts/stage.gd" type="Script" id=1]
[ext_resource path="res://Images/Sky.png" type="Texture" id=2]
[ext_resource path="res://Images/feuille.png" type="Texture" id=3]
[ext_resource path="res://Images/SpotLight.png" type="Texture" id=4]
[ext_resource path="res://tileset.tres" type="TileSet" id=5]
[ext_resource path="res://coin.tscn" type="PackedScene" id=6]
[ext_resource path="res://moving_platform.tscn" type="PackedScene" id=7]
[ext_resource path="res://seesaw.tscn" type="PackedScene" id=8]
[ext_resource path="res://one_way_platform.tscn" type="PackedScene" id=9]
[ext_resource path="res://enemy.tscn" type="PackedScene" id=10]
[ext_resource path="res://drone.tscn" type="PackedScene" id=11]
[ext_resource path="res://player1.tscn" type="PackedScene" id=12]
[ext_resource path="res://player2.tscn" type="PackedScene" id=13]
[ext_resource path="res://Images/light.png" type="Texture" id=14]

[sub_resource type="Animation" id=1]

resource/name = "CanvasModulateFatality"
length = 1.0
loop = false
step = 0.1
tracks/0/type = "value"
tracks/0/path = NodePath("../CanvasModulate:color")
tracks/0/interp = 1
tracks/0/imported = false
tracks/0/keys = {
"times": FloatArray( 0, 0.5, 1 ),
"transitions": FloatArray( 1, 1, 1 ),
"update": 0,
"values": [ Color( 0.6875, 0.631901, 0.553223, 1 ), Color( 0.359375, 0.329149, 0.286377, 1 ), Color( 0.371094, 0.26122, 0.227585, 1 ) ]
}

[sub_resource type="Curve2D" id=2]

bake_interval = 5.0
_data = {
"points": Vector2Array( 0, 0, 35.3699, 137.398, -130, 20, 0, 0, 0, 0, 120, 300, 0, 0, 0, 0, 280, 430, -108.794, 5.88076, -11.7615, 11.7615, 640, 590, -8.16228, 42.1718, 12.2434, -23.1265, 870, 500, 41.6899, 19.7133, -36.6449, -26.0333, 780, 380, 19.8476, -7.35095, -22.7879, 4.41057, 580, 390, -2.50114, -47.7658, 1.36038, 65.2982, 540, 450, 0, 0, 0, 0, 700, 590 )
}

[node name="stage" type="Node"]

script/script = ExtResource( 1 )

[node name="Sky" type="Sprite" parent="."]

transform/pos = Vector2( 900, 590 )
transform/scale = Vector2( 5.39968, 1.4699 )
texture = ExtResource( 2 )
__meta__ = {
"_edit_lock_": true
}

[node name="Fatality" type="Node" parent="."]

editor/display_folded = true

[node name="CanvasFatality" type="AnimationPlayer" parent="Fatality"]

playback/process_mode = 1
playback/default_blend_time = 0.0
root/root = NodePath("..")
anims/CanvasModulateFatality = SubResource( 1 )
playback/active = true
playback/speed = 1.0
blend_times = [  ]
autoplay = ""

[node name="Thunder" type="Sprite" parent="Fatality"]

visibility/visible = false
transform/pos = Vector2( 0, 765 )
transform/scale = Vector2( 2.4, 4 )

[node name="Particles2D Left" type="Particles2D" parent="Fatality"]

transform/pos = Vector2( 323.008, 53.2858 )
transform/scale = Vector2( 0.3, 0.3 )
config/amount = 32
config/lifetime = 10.0
config/emitting = false
config/process_mode = 1
config/half_extents = Vector2( 1400, 0 )
config/texture = ExtResource( 3 )
params/direction = 30.0
params/spread = 10.0
params/linear_velocity = 400.0
params/spin_velocity = 2.0
params/orbit_velocity = 0.0
params/gravity_direction = 0.0
params/gravity_strength = 9.8
params/radial_accel = 0.0
params/tangential_accel = 0.0
params/damping = 0.0
params/initial_angle = 0.0
params/initial_size = 1.0
params/final_size = 1.0
params/hue_variation = 0.0
params/anim_speed_scale = 1.0
params/anim_initial_pos = 0.0
randomness/spin_velocity = 1.0

[node name="Particles2D Right" type="Particles2D" parent="Fatality"]

transform/pos = Vector2( 1031.16, 59.9665 )
transform/scale = Vector2( 0.3, 0.3 )
config/amount = 32
config/lifetime = 10.0
config/emitting = false
config/process_mode = 1
config/half_extents = Vector2( 1400, 0 )
config/texture = ExtResource( 3 )
params/direction = 320.0
params/spread = 10.0
params/linear_velocity = 400.0
params/spin_velocity = 2.0
params/orbit_velocity = 0.0
params/gravity_direction = 0.0
params/gravity_strength = 9.8
params/radial_accel = 0.0
params/tangential_accel = 0.0
params/damping = 0.0
params/initial_angle = 0.0
params/initial_size = 1.0
params/final_size = 1.0
params/hue_variation = 0.0
params/anim_speed_scale = 1.0
params/anim_initial_pos = 0.0
randomness/spin_velocity = 1.0

[node name="SpotLight" type="Light2D" parent="Fatality"]

visibility/visible = false
visibility/opacity = 0.5
transform/pos = Vector2( 820, 530 )
enabled = true
editor_only = false
texture = ExtResource( 4 )
offset = Vector2( 0, 0 )
scale = 1.0
color = Color( 1, 1, 1, 1 )
energy = 1.0
mode = 0
range/height = 0.0
range/z_min = -1024
range/z_max = 1024
range/layer_min = 0
range/layer_max = 0
range/item_mask = 1
shadow/enabled = false
shadow/color = Color( 0, 0, 0, 0 )
shadow/buffer_size = 2048
shadow/esm_multiplier = 80.0
shadow/item_mask = 1

[node name="TimerSpotLight" type="Timer" parent="Fatality/SpotLight"]

process_mode = 1
wait_time = 2.0
one_shot = true
autostart = false

[node name="TileMaps" type="Node" parent="."]

editor/display_folded = true

[node name="TileMap" type="TileMap" parent="TileMaps"]

mode = 0
tile_set = ExtResource( 5 )
cell/size = Vector2( 32, 32 )
cell/quadrant_size = 16
cell/custom_transform = Matrix32( 1, 0, 0, 1, 0, 0 )
cell/half_offset = 2
cell/tile_origin = 0
cell/y_sort = false
collision/use_kinematic = false
collision/friction = 1.0
collision/bounce = 0.0
collision/layers = 1
collision/mask = 1
occluder/light_mask = 1
tile_data = IntArray( 393216, 18, 458752, 18, 524288, 18, 589824, 18, 655360, 18, 720896, 18, 786432, 18, 851968, 18, 917504, 18, 983040, 18, 1048576, 18, 1114112, 18, 1179648, 18, 1245184, 18, 1310720, 18, 1376256, 18, 1441792, 18, 1507328, 18, 1572864, 18, 1638400, 18, 1703936, 18, 1769472, 18, 1769504, 18, 1769505, 18, 1769506, 18, 1769507, 18, 1769508, 18, 1769509, 18, 1769510, 18, 1769511, 18, 1769512, 18, 1835008, 18, 1835039, 18, 1835040, 18, 1835041, 18, 1835042, 18, 1835043, 18, 1835044, 18, 1835045, 18, 1835046, 18, 1835047, 18, 1835048, 18, 1900544, 18, 1900545, 18, 1900575, 18, 1900576, 18, 1900577, 18, 1900578, 18, 1900579, 18, 1900580, 18, 1900581, 18, 1900582, 18, 1900583, 18, 1900584, 18, 1966111, 18, 1966112, 18, 1966113, 18, 1966114, 18, 1966115, 18, 1966116, 18, 1966117, 18, 1966118, 18, 1966119, 18, 1966120, 18, 2031647, 18, 2031648, 18, 2031649, 18, 2031650, 18, 2031651, 18, 2031652, 18, 2031653, 18, 2031654, 18, 2031655, 18, 2031656, 18, 2097183, 18, 2097184, 18, 2097185, 18, 2097186, 18, 2097187, 18, 2097188, 18, 2097189, 18, 2097190, 18, 2097191, 18, 2097192, 18, 2162719, 18, 2162720, 18, 2162721, 18, 2162722, 18, 2162723, 18, 2162724, 18, 2162725, 18, 2162726, 18, 2162727, 18, 2162728, 18 )
__meta__ = {
"_edit_lock_": true
}

[node name="TileMap Indestructible" type="TileMap" parent="TileMaps"]

mode = 0
tile_set = ExtResource( 5 )
cell/size = Vector2( 32, 32 )
cell/quadrant_size = 16
cell/custom_transform = Matrix32( 1, 0, 0, 1, 0, 0 )
cell/half_offset = 2
cell/tile_origin = 0
cell/y_sort = false
collision/use_kinematic = false
collision/friction = 1.0
collision/bounce = 0.0
collision/layers = 1
collision/mask = 1
occluder/light_mask = 1
tile_data = IntArray( 65535, 17, 0, 17, 1, 17, 2, 17, 3, 17, 4, 17, 5, 17, 6, 17, 7, 17, 8, 17, 9, 17, 10, 17, 11, 17, 12, 17, 13, 17, 14, 17, 15, 17, 16, 17, 17, 17, 18, 17, 19, 17, 20, 17, 21, 17, 22, 17, 23, 17, 24, 17, 25, 17, 26, 17, 27, 17, 28, 17, 29, 17, 30, 17, 31, 17, 32, 17, 33, 17, 34, 17, 35, 17, 36, 17, 37, 17, 38, 17, 39, 17, 40, 17, 41, 17, 42, 17, 131071, 17, 65578, 17, 196607, 17, 131114, 17, 262143, 17, 196650, 17, 327679, 17, 262186, 17, 393215, 17, 327722, 17, 458751, 17, 393258, 17, 524287, 17, 458794, 17, 589823, 17, 524330, 17, 655359, 17, 589866, 17, 720895, 17, 655402, 17, 786431, 17, 720938, 17, 851967, 17, 786474, 17, 917503, 17, 852010, 17, 983039, 17, 917546, 17, 1048575, 17, 983082, 17, 1114111, 17, 1048618, 17, 1179647, 17, 1114154, 17, 1245183, 17, 1179690, 17, 1310719, 17, 1245226, 17, 1376255, 17, 1310762, 17, 1441791, 17, 1376298, 17, 1507327, 17, 1441834, 17, 1572863, 17, 1507370, 17, 1638399, 17, 1572906, 17, 1703935, 17, 1638441, 17, 1638442, 17, 1769471, 17, 1703941, 16, 1703942, 16, 1703943, 16, 1703944, 16, 1703945, 16, 1703946, 16, 1703947, 16, 1703948, 16, 1703949, 16, 1703968, 16, 1703969, 16, 1703970, 16, 1703971, 16, 1703972, 16, 1703973, 16, 1703974, 16, 1703975, 16, 1703976, 16, 1703977, 17, 1703978, 17, 1835007, 17, 1769513, 17, 1769514, 17, 1900543, 17, 1835049, 17, 1835050, 17, 1966079, 17, 1900585, 17, 1900586, 17, 2031615, 17, 1966080, 17, 1966081, 16, 1966101, 16, 1966102, 16, 1966103, 16, 1966104, 16, 1966105, 16, 1966109, 17, 1966110, 17, 1966121, 17, 1966122, 17, 2097151, 17, 2031616, 16, 2031617, 16, 2031618, 16, 2031619, 16, 2031657, 17, 2031658, 17, 2162687, 17, 2097152, 16, 2097153, 16, 2097154, 16, 2097155, 16, 2097156, 16, 2097166, 16, 2097167, 16, 2097168, 16, 2097193, 17, 2097194, 17, 2228223, 17, 2162688, 16, 2162689, 16, 2162690, 16, 2162691, 16, 2162692, 16, 2162693, 16, 2162694, 16, 2162695, 16, 2162696, 16, 2162702, 17, 2162703, 17, 2162704, 17, 2162729, 17, 2162730, 17, 2293759, 17, 2228224, 17, 2228225, 17, 2228226, 17, 2228227, 17, 2228228, 17, 2228229, 17, 2228230, 17, 2228231, 17, 2228232, 17, 2228233, 17, 2228234, 17, 2228235, 17, 2228236, 17, 2228237, 17, 2228238, 17, 2228239, 17, 2228240, 17, 2228241, 17, 2228242, 17, 2228243, 17, 2228244, 17, 2228245, 17, 2228255, 17, 2228256, 17, 2228257, 17, 2228258, 17, 2228259, 17, 2228260, 17, 2228261, 17, 2228262, 17, 2228263, 17, 2228264, 17, 2228265, 17, 2228266, 17, 2359295, 17, 2293760, 17, 2293761, 17, 2293762, 17, 2293763, 17, 2293764, 17, 2293765, 17, 2293766, 17, 2293767, 17, 2293768, 17, 2293769, 17, 2293770, 17, 2293771, 17, 2293772, 17, 2293773, 17, 2293774, 17, 2293775, 17, 2293776, 17, 2293777, 17, 2293778, 17, 2293779, 17, 2293780, 17, 2293781, 17, 2293782, 17, 2293783, 17, 2293784, 17, 2293785, 17, 2293786, 17, 2293787, 17, 2293788, 17, 2293789, 17, 2293790, 17, 2293791, 17, 2293792, 17, 2293793, 17, 2293794, 17, 2293795, 17, 2293796, 17, 2293797, 17, 2293798, 17, 2293799, 17, 2293800, 17, 2293801, 17, 2293802, 17, 2424831, 17, 2359296, 17, 2359297, 17, 2359298, 17, 2359299, 17, 2359300, 17, 2359301, 17, 2359302, 17, 2359303, 17, 2359304, 17, 2359305, 17, 2359306, 17, 2359307, 17, 2359308, 17, 2359309, 17, 2359310, 17, 2359311, 17, 2359312, 17, 2359313, 17, 2359314, 17, 2359315, 17, 2359316, 17, 2359317, 17, 2359318, 17, 2359319, 17, 2359320, 17, 2359321, 17, 2359322, 17, 2359323, 17, 2359324, 17, 2359325, 17, 2359326, 17, 2359327, 17, 2359328, 17, 2359329, 17, 2359330, 17, 2359331, 17, 2359332, 17, 2359333, 17, 2359334, 17, 2359335, 17, 2359336, 17, 2359337, 17, 2359338, 17, 2490367, 17, 2424832, 17, 2424833, 17, 2424834, 17, 2424835, 17, 2424836, 17, 2424837, 17, 2424838, 17, 2424839, 17, 2424840, 17, 2424841, 17, 2424842, 17, 2424843, 17, 2424844, 17, 2424845, 17, 2424846, 17, 2424847, 17, 2424848, 17, 2424849, 17, 2424850, 17, 2424851, 17, 2424852, 17, 2424853, 17, 2424854, 17, 2424855, 17, 2424856, 17, 2424857, 17, 2424858, 17, 2424859, 17, 2424860, 17, 2424861, 17, 2424862, 17, 2424863, 17, 2424864, 17, 2424865, 17, 2424866, 17, 2424867, 17, 2424868, 17, 2424869, 17, 2424870, 17, 2424871, 17, 2424872, 17, 2424873, 17, 2424874, 17 )
__meta__ = {
"_edit_lock_": true
}

[node name="coins" type="Node" parent="."]

editor/display_folded = true

[node name="coin" parent="coins" instance=ExtResource( 6 )]

transform/pos = Vector2( 248.034, -76.097 )

[node name="props" type="Node" parent="."]

editor/display_folded = true

[node name="moving_platform" parent="props" instance=ExtResource( 7 )]

transform/pos = Vector2( 123.299, 606 )
motion = Vector2( 0, -100 )
cycle = 5.0

[node name="moving_platform1" parent="props" instance=ExtResource( 7 )]

transform/pos = Vector2( 1230, 620 )
motion = Vector2( 0, -100 )
cycle = 5.0

[node name="seesaw" parent="props" instance=ExtResource( 8 )]

transform/pos = Vector2( 504.326, 981.887 )

[node name="one_way_platform" parent="props" instance=ExtResource( 9 )]

transform/pos = Vector2( 1245.71, -92.3315 )

[node name="enemies" type="Node" parent="."]

[node name="enemy 5" parent="enemies" instance=ExtResource( 10 )]

transform/pos = Vector2( 732.176, -51.1154 )

[node name="Path2D" type="Path2D" parent="enemies"]

curve = SubResource( 2 )

[node name="PathFollow2D" type="PathFollow2D" parent="enemies/Path2D"]

transform/pos = Vector2( -130, 20 )
offset = 0.0
h_offset = 0.0
v_offset = 0.0
rotate = false
cubic_interp = true
loop = false
lookahead = 4.0

[node name="Drone" parent="enemies/Path2D/PathFollow2D" instance=ExtResource( 11 )]

[node name="TimerDrone" type="Timer" parent="enemies/Path2D/PathFollow2D"]

process_mode = 1
wait_time = 3.0
one_shot = true
autostart = false

[node name="Player" type="Node" parent="."]

[node name="Player1" parent="Player" instance=ExtResource( 12 )]

transform/pos = Vector2( 400, 780 )

[node name="Player2" parent="Player" instance=ExtResource( 13 )]

transform/pos = Vector2( 1070, 780 )

[node name="Camera2D" type="Camera2D" parent="."]

transform/pos = Vector2( 512.285, 880.572 )
transform/scale = Vector2( 6.91374, 4.82815 )
anchor_mode = 1
rotating = false
current = true
zoom = Vector2( 1, 1 )
limit/left = -10000000
limit/top = -10000000
limit/right = 10000000
limit/bottom = 10000000
drag_margin/h_enabled = true
drag_margin/v_enabled = true
smoothing/enable = false
smoothing/speed = 5.0
drag_margin/left = 0.2
drag_margin/top = 0.2
drag_margin/right = 0.2
drag_margin/bottom = 0.2
__meta__ = {
"_edit_lock_": true
}

[node name="CanvasModulate" type="CanvasModulate" parent="."]

visibility/blend_mode = 1
transform/pos = Vector2( 297.643, 1137.41 )
transform/rot = -180.0
transform/scale = Vector2( 205.51, 236.24 )
color = Color( 0.69, 0.64, 0.55, 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="Light2D" type="Light2D" parent="."]

transform/pos = Vector2( 112.417, 827.78 )
transform/scale = Vector2( -205.51, -236.24 )
enabled = true
editor_only = false
texture = ExtResource( 14 )
offset = Vector2( 0, 0 )
scale = 1.0
color = Color( 0.214844, 0.214844, 0.214844, 1 )
energy = 1.0
mode = 0
range/height = 0.0
range/z_min = -1024
range/z_max = 1024
range/layer_min = 0
range/layer_max = 0
range/item_mask = 1
shadow/enabled = true
shadow/color = Color( 0, 0, 0, 0 )
shadow/buffer_size = 2048
shadow/esm_multiplier = 80.0
shadow/item_mask = 1
__meta__ = {
"_edit_lock_": true
}

[connection signal="timeout" from="Fatality/SpotLight/TimerSpotLight" to="." method="_on_TimerSpotLight_timeout"]

[connection signal="timeout" from="enemies/Path2D/PathFollow2D/TimerDrone" to="." method="_on_TimerDrone_timeout"]


